{"version":3,"file":"js/247fa191358f46e0f7c8f3d.bundle.js","mappings":"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","sources":["webpack://una-webpack/./src/react-apps/pages/mart-page/ProductFeed/AddCartButton/index.tsx","webpack://una-webpack/./src/react-apps/pages/mart-page/ProductFeed/item.tsx","webpack://una-webpack/./src/react-apps/pages/mart-page/SearchHeader/index.tsx","webpack://una-webpack/./src/react-apps/pages/mart-page/ProductFeed/index.tsx","webpack://una-webpack/./src/services/api/departamentos-service.ts","webpack://una-webpack/./src/react-apps/pages/mart-page/FetchManager.tsx","webpack://una-webpack/./src/react-apps/pages/mart-page/CategoriasNav/index.tsx","webpack://una-webpack/./src/react-apps/pages/mart-page/index.tsx","webpack://una-webpack/./node_modules/copy-to-clipboard/index.js","webpack://una-webpack/./node_modules/toggle-selection/index.js"],"sourcesContent":["import React from 'react'\nimport './style.css'\nimport { BsCartPlus } from 'react-icons/bs'\n\nexport namespace AddCartButton{\n    export type Params = {\n        value: number,\n        onChange: () => void,\n\n    }\n}\n\nexport const ProductFeedCartButton = ({value =0, onChange}: any) => {\n    return (\n        <div className={`product-feed-cart-btn ${value == 0 ? \"single\" : \"\"}`}>\n            <section>\n                { value > 0 && <React.Fragment>\n                    <button onClick={()=>onChange(-1)}>-</button>\n                    <span> {value} </span>\n                </React.Fragment>}\n                <button onClick={()=>onChange(1)}>{value == 0 ? <BsCartPlus/>: \"+\"}</button>\n            </section>\n        </div>)\n}\n\n\n\nexport default ProductFeedCartButton","import React, { useState, useEffect, useRef } from 'react'\nimport ProductImage from \"@/public/assets/images/product/empty.svg\"\nimport { Link, useHistory } from 'react-router-dom'\nimport { RiPriceTag2Line } from 'react-icons/ri'\nimport AddCartButton, { ProductFeedCartButton } from './AddCartButton'\nimport { BsThreeDotsVertical } from 'react-icons/bs'\nimport { mediaPlayListService } from '@/services/api/media-playlist'\nimport { UseCartHandler } from '@/react-apps/store/reducers/cart/handler'\nimport { filesService } from '@/services/api/files-service'\nimport { HiPlusCircle } from 'react-icons/hi'\nimport { FaCartPlus } from 'react-icons/fa'\nimport { MdContentCopy, MdOutlineAddCircle, MdOutlineAddShoppingCart } from 'react-icons/md'\nimport copy from 'copy-to-clipboard';\n\nexport type ListMode = \"inline\" | \"block\"\n\nexport namespace ProductItem {\n    export type Params = { onChange: () => void, listMode: ListMode, showOptions: boolean }\n}\n\nexport const ProductImageSection: React.FunctionComponent<any> = ({ images, onClick }) =>{\n    \n    const [ image, setImage ] = useState(ProductImage);\n\n    useEffect(()=> {\n        if(images.length == 0) return;\n        var image = images[0];\n        const src= image + \"/\" + \"320.jpeg\";\n        setImage(filesService.get_public_images_url(src))\n    }, [images])\n\n    return (\n        <section className='product-feed-item-img-vp' onClick={onClick}> \n            <img alt=\"Ilustração do produto\" src={image}></img>\n        </section>\n    )\n}\n\nexport const ProductItem: React.FunctionComponent<any> = ({ onAction, showOptions, produto, listMode , showPrices}) =>{\n    \n    const history = useHistory()\n    const [ prices, setPrices ] = useState([0,0])\n    const { ean, specification, brand, presentation, images, supplies} = produto\n    const cartHandler = UseCartHandler()\n    const eanRef = useRef<any>(null)\n    useEffect(()=>{\n        if(supplies?.length > 0 ){\n            let maior:number =-1, menor: number = -1;\n\n            for(let n = 0 ; n < supplies.length ; n ++ ){\n                let {price}  = supplies[n]\n                if(maior == -1){\n                    maior = price, menor = price;\n                }else{\n                    maior = price > maior ? price : maior;\n                    menor = price < menor ? price : menor;\n                }\n            }\n            setPrices([menor, maior]);\n        }\n    },[ supplies])\n\n    const handleClick = (k: string, p?:any) =>{\n        switch(k){\n            case \"COPY\": copy(ean); break;\n            case \"MOVE\": history.push(`/produto/${ean}`) ;break;\n            case \"CART\": cartHandler.push(p, produto); break;\n        }\n    }\n\n    return (\n        <div className={`product-feed-item ${listMode}`} >\n            { showOptions && <button onClick={()=>onAction(\"ADMIN\", produto.ean)} className='product-feed-options'> <BsThreeDotsVertical/> </button> }\n            <ProductFeedCartButton onChange={(n:number)=>{handleClick(\"CART\", n)}} value={cartHandler.count(ean)} />\n            \n            {listMode == \"block\" ?\n            <React.Fragment>\n                <section> <ProductImageSection images={images}/>  </section>\n                <section className='product-feed-item-body' onClick={()=>{ handleClick(\"MOVE\")}}>\n                    <span className=\"produto-nome\"> {specification} </span>\n\n                        { showPrices ?\n                            <div className='product-feed-item-prices'>\n                                <span className={`${prices[0] ==0 ? 'priceless' : \"\"}`}>\n                                    {    prices[0] == 0 ?\n                                        <React.Fragment> Preço sobre orçamento </React.Fragment> :\n                                        <React.Fragment>  R$: {prices[0].toFixed(2)} </React.Fragment>\n                                    }\n                                </span>\n                                <span>\n                                    { prices[0] != prices[1] &&  <React.Fragment> {`orfertas de ${prices[0].toFixed(2)} até ${prices[1].toFixed(2)}`} </React.Fragment>}\n                                </span>\n                            </div> \n                            :\n                            <div className='product-feed-item-prices'>\n                                <span >\n                                    Cadastre-se\n                                </span>\n                                <span>\n                                 para descobrir as ofertas\n                                </span>\n                            </div> \n                        }\n                </section>\n                <section className='product-feed-item-footer'>\n                    {   (listMode == \"block\") &&\n                        <React.Fragment>\n                            <button onClick={() => handleClick(\"COPY\")}> <MdContentCopy></MdContentCopy></button>\n                            <span ref={eanRef} className=\"produto-ean\">{ean}</span>\n                        </React.Fragment>\n                    }\n                </section>\n            </React.Fragment>\n            :\n            <React.Fragment>\n                <span> {specification} </span>\n            </React.Fragment>\n        \n        }\n          \n        </div>\n    )\n}","import React, { ReactNode } from 'react'\nimport { MdPlayArrow } from 'react-icons/md'\nimport './style.css'\nimport { Link } from 'react-router-dom'\nimport { RiArrowDropRightLine, RiPriceTag2Fill, RiPriceTag2Line } from 'react-icons/ri'\nimport { FaSearch } from 'react-icons/fa'\nimport { AiFillTags } from 'react-icons/ai'\n\nexport const LabelResult = ({ label, value}:any) =>{\n    return (\n        <span className='search-header-label-result'>\n            <span> {label} </span>\n        </span>\n    )\n}\n\nexport const LabelRow = ({label, list, icon, emptyAlias=\"*\"}:{icon?:ReactNode, emptyAlias?: string, label?: any, list: any[]}) =>{\n\n    return (\n        <div className='search-header-label-row'>\n            {label && <label>  { icon && icon }  {label} </label>}\n            {\n                list.length == 0 ?  <LabelResult value={\"\"} label={emptyAlias}></LabelResult> :\n                list.map((c,i)=>{\n                    let label = list[i].label \n                    return (<LabelResult value={\"\"} label={label+=(i!=0 || i < list.length-1) ? \", \": \"\"} key={i}></LabelResult>)\n                })\n            }\n            \n        </div>\n    )\n}\n\nexport const SearchHeader: React.FunctionComponent<any>= ({queries}) =>{\n    return (\n        <div className='products-search-header'>\n         {/*    <span className='products-search-header-row' > \n                <LabelRow icon={<FaSearch/>}\n                label={\"Pesquisa: \"} list={  queries?.specification ?[ {label: queries?.specification }] : []}  emptyAlias=\"...\"></LabelRow>\n            </span> */}\n\n            {/* <span className='products-search-header-row'> \n                <LabelRow icon={<RiPriceTag2Fill/>} label={\"Departamentos: \"} list={ queries?.departament ?? []}  emptyAlias=\"Todos\"></LabelRow>\n                <span className=\"products-search-arrow-divider\"> <RiArrowDropRightLine/> </span>\n                <LabelRow list={ queries?.category ?? []} emptyAlias=\"Todas\"></LabelRow>\n                <span className=\"products-search-arrow-divider\"> <RiArrowDropRightLine/> </span>\n                <LabelRow list={ queries?.subCategory ?? []}  emptyAlias=\"Todas\"></LabelRow>\n            </span>\n\n            <span className='products-search-header-row'> \n                <LabelRow icon={<RiPriceTag2Line/>} label={\"Marcas: \"} list={ queries?.brand ?? []} emptyAlias=\"Todas\"></LabelRow>\n            </span>  */}\n        </div>\n    )\n}\nexport default SearchHeader","import React from 'react'\nimport './style.css'\nimport { useSelector } from 'react-redux'\nimport ContentPool from '@/react-apps/layouts/components/ContentPool'\nimport { ProductItem } from './item'\nimport SearchHeader, { LabelRow } from '../SearchHeader'\nimport { BsFillFilterSquareFill } from 'react-icons/bs'\n\nexport const ProductFeed: React.FunctionComponent<any> = ({ manager }) =>{\n\n    const { user, god_mode } = useSelector((state: any)=>state.main)\n    const { products } = useSelector( (state: any)=>state.mart);\n\n    const handleChange = (key:string, p?: any) =>{\n        switch(key){\n            case \"SET_PAGE\": manager.onChange({p}, false); break;\n            case \"SHOW_FILTERS\": manager.onChange(p, false); break;\n            case \"ADMIN\": {  alert(\"Função desabilitada no momento\") }; break;\n        }\n    } \n\n    return (\n        <div className=\"una-product-feed\">\n            <ContentPool list_data={products} dataAlias={\"products\"}\n                onAction={handleChange}\n                header={ (queries: any)=>(<SearchHeader  queries={queries}/>) }\n                auxHeader={(queries: any)=>(\n                    <React.Fragment>\n                        <button className='mobile-only' onClick={ () => handleChange(\"SHOW_FILTERS\", {filters:1})}> <BsFillFilterSquareFill/> </button>\n                    </React.Fragment>\n                )}\n                itemComponent={ ({item_data, listMode })=> (\n                    <ProductItem \n                        showPrices={user}\n                        showOptions={god_mode} \n                        listMode={listMode} produto={item_data} \n                        onAction={handleChange}\n                    ></ProductItem>\n                )}>\n            </ContentPool>\n        </div>\n    )\n}\n\nexport default ProductFeed\n\n\n","import { global } from '@/services/global-keys'\nimport { MakeApiSettings, errorHandler } from './helpers'\n\nconst departamentsApi = MakeApiSettings({\n     base_url: `${global.base_url}/departaments`,\n     errorHelper: errorHandler, \n     storage_key: global.user_storage_key\n})\n\nexport const departamentosService = {\n     list:async () => {\n          const { data } = await departamentsApi.send({ method: \"get\", url:\"/\" }) \n          return data\n     }\n}","import { LabelView } from '@/domain/views/ListingView';\nimport UseSearchAdapter from '@/react-apps/components/SearchAdapter';\nimport { setDepartaments, setProducts } from '@/react-apps/store/reducers/mart';\nimport { departamentosService } from '@/services/api/departamentos-service';\nimport { produtosService } from '@/services/api/produtos-service';\n\nimport * as React from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\n\nexport const SEARCH_HEADER= { \n    params : [ \"departament_id\" ],\n    search : [ \"category\", \"subCategory\", \"brand\", \"v\", \"p\", \"filters\" ]\n};\nexport namespace UseFetchManager {\n    export type Departaments = Record< \"departaments\" | \"brands\" | \"categories\" | \"presentations\"  | \"subCategories\" , LabelView[]>\n}\nexport const INITIAL_DEPARTAMENTS = {\n    departaments: [],  brands: [], categories:[], presentations:[], subCategories:[]\n}\n\n\nexport const UseFetchManager = () =>{\n    const dispatch = useDispatch()\n    const [ isLoading, setIsLoading ] = React.useState(true);\n    const [ availables , setAvailabes ] = React.useState<UseFetchManager.Departaments>({ ...INITIAL_DEPARTAMENTS })\n    const [ values, setValues ] = React.useState<any>({})\n    const { parsedParams, parsedSearch, appendToHistory, pushToHistory } = UseSearchAdapter({ header: SEARCH_HEADER })\n\n    /* Primeiro fetch para buscar os departamentos */\n    React.useEffect(() => {\n        setIsLoading(true)\n        departamentosService.list()\n            .then((data:any) => {\n                setAvailabes((prev: any)=>({ ...prev, ...data }))\n                dispatch(setDepartaments(data) )\n            })\n            .finally(()=>setIsLoading(false))\n    },[])\n\n    /* Deve receber valores de Filtros via url */\n    React.useEffect(()=>{\n        if(!parsedParams || !parsedSearch) return;\n        setValues((prev: any) =>  ( { ...prev,  departament: parsedParams.departament_id, ...parsedSearch }))\n    },[parsedParams, parsedSearch])\n    \n    /* Realiza pesquisa quando filtros forem atualizados */\n    React.useEffect( ()=>{ if( Object.keys(values).length > 0 ) handleSearch(); },[values])\n\n    const handleChange = (arg: object, clear: boolean) => { pushToHistory(arg, clear) }\n\n    const handleSearch = async () => {\n\n        setIsLoading(true)\n\n        var subCategories_availables = availables['subCategories'].map((v:any)=>v.value);\n        var brands_available = availables['brands'].map((v:any)=>v.value);\n    \n        const submitValues = {\n            v: values.v[0],  p: values.p[0],\n            departament_id: values?.departament ?? \"\",\n            category: values?.category ?? [],\n            subCategory: (subCategories_availables.length > 0) ? \n                values?.subCategory.filter((s:string)=>subCategories_availables.includes(s)) : values.subCategory ,\n            brand: (brands_available.length > 0 ) ?\n                values?.brand.filter((s:string)=>brands_available.includes(s)) : values.brand\n        }\n\n        /* Valores dos filtros devem ser filtrados somente antes de enviar para o sevidor */\n        produtosService.list(submitValues)\n            .then( (r)=> {\n                // reitificar valores disponiveis aqui\n                const { categories_available, subCategories_available, brands_available  } = r.data\n                setAvailabes((prev: any)=>{\n                    return {\n                        ...prev, \n                        categories: categories_available,\n                        subCategories: subCategories_available,\n                        brands: brands_available \n                    }\n                })\n                /* disparar novos valores para produtos */\n                dispatch(setProducts(r))\n            })\n            .finally(()=>{ setIsLoading(false) })\n    } \n\n    return ({ isLoading, availables, values, onChange: handleChange })\n}\n\n\nexport default UseFetchManager\n","import React, { useState, useEffect, useRef } from 'react'\nimport './style.css'\nimport MultipleSelectionControl from '../../../components/SelectorNav/MultipleSelectionControl'\nimport Asidefilters from '@/react-apps/layouts/components/AsideFilters'\n\nexport namespace CategoriasNav {\n    export type Params = { manager: any }\n}\n\nexport const CategoriasNav: React.FunctionComponent<CategoriasNav.Params> = ({ manager }) => {\n    const { availables, values, onChange } = manager\n    return (\n        <Asidefilters onChange={(v:any)=>{if(v==-1)return onChange({filters:null}, false)}} allowedToShow={ values?.filters[0] ? true : false} >\n            <React.Fragment>\n                 <MultipleSelectionControl title=\"Departamentos\" items={availables.departaments} max={1} \n                    value={ !values?.departament ? [] : [{ value: values.departament }]}\n                    onChange={(p: any)=> onChange( { departament_id : p.map((b: any)=>b.value) }, true)} >\n                </MultipleSelectionControl>  \n                <MultipleSelectionControl title=\"Categorias\" items={availables.categories}\n                    value={ !values.category ? [] : values[\"category\"].map((v:string)=>({value: v}))}\n                    onChange={(p: any)=>  onChange({ category: p.map((b: any)=>b.value )}, false)} >\n                </MultipleSelectionControl>\n                <MultipleSelectionControl title=\"Sub Categorias\" items={availables.subCategories}\n                    value={ !values.subCategory ? [] : values[\"subCategory\"].map((v:string)=>({value: v}))}\n                    onChange={(p: any)=>{ onChange({ subCategory: p.map((b: any)=>b.value)}), false}} >\n                </MultipleSelectionControl>  \n                <MultipleSelectionControl title=\"Marcas\" items={availables.brands}\n                    value={values[\"brand\"].map((v:string)=>({value: v}))}\n                    onChange={(p: any)=>{ onChange({ brand: p.map((b: any)=>b.value) }, false)}} >\n                </MultipleSelectionControl>   \n            </React.Fragment>\n        </Asidefilters>\n    )\n}\nexport default CategoriasNav","import * as React from 'react';\n\nimport ContentGrid from '@/react-apps/layouts/components/ContentGrid'\nimport ProductFeed from '@/react-apps/pages/mart-page/ProductFeed'\nimport UseFetchManager from './FetchManager'\nimport CategoriasNav from './CategoriasNav'\n\nexport const MartPage: React.FunctionComponent<any> = ({ history }) => {\n\n    const fetchManager = UseFetchManager();\n    return (\n        <div id=\"departamento-page\">\n            <div className='app-container'>\n                <ContentGrid loading={fetchManager.isLoading}>\n                    <CategoriasNav manager={fetchManager}></CategoriasNav> \n                    <ProductFeed manager={fetchManager} ></ProductFeed>\n                </ContentGrid>  \n            </div> \n        </div>\n    )\n}\n\nexport default MartPage\n\n/* \n    const handleProductForm =async () =>{\n        dispatch(setLoading(true));\n        const product:any = parsedSearch[\"admin-view\"] === \"new\" ? {} : \n        await produtosService.find({ean: parsedSearch[\"admin-item\"][0] })\n            .finally(()=>{ dispatch(setLoading(false)) })\n        \n        context.dialog.push(MakeDialogConfig(\n            ({onAction})=>( <ProductForm entry={{...product.product}} onAction={onAction} onData={()=>{}}/>\n            ),()=>{ pushToHistory({\"admin-item\": []});\n            }, parsedSearch[\"admin-item\"] ? \"Atualizar Produto\" : \"Novo Produto\")\n        );\n    } */\n\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n"],"names":["AddCartButton","ProductFeedCartButton","value","onChange","className","onClick","BsCartPlus","ProductItem","ProductImageSection","images","useState","ProductImage","image","setImage","useEffect","length","src","filesService","alt","onAction","showOptions","produto","listMode","showPrices","history","useHistory","prices","setPrices","ean","specification","brand","presentation","supplies","cartHandler","UseCartHandler","eanRef","useRef","maior","menor","n","price","handleClick","k","p","copy","push","BsThreeDotsVertical","count","toFixed","ref","queries","manager","useSelector","state","main","user","god_mode","products","mart","handleChange","key","alert","ContentPool","list_data","dataAlias","header","auxHeader","filters","BsFillFilterSquareFill","itemComponent","item_data","departamentsApi","MakeApiSettings","base_url","global","errorHelper","errorHandler","storage_key","departamentosService","list","send","method","url","data","SEARCH_HEADER","params","search","UseFetchManager","INITIAL_DEPARTAMENTS","departaments","brands","categories","presentations","subCategories","dispatch","useDispatch","React","isLoading","setIsLoading","availables","setAvailabes","values","setValues","UseSearchAdapter","parsedParams","parsedSearch","pushToHistory","appendToHistory","then","prev","setDepartaments","departament","departament_id","Object","keys","handleSearch","subCategories_availables","map","v","brands_available","submitValues","category","subCategory","filter","s","includes","produtosService","r","categories_available","subCategories_available","setProducts","arg","clear","CategoriasNav","allowedToShow","MultipleSelectionControl","title","items","max","b","MartPage","fetchManager","id","ContentGrid","loading","deselectCurrent","clipboardToIE11Formatting","module","exports","text","options","debug","message","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","createElement","textContent","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","preventDefault","clipboardData","console","warn","window","clearData","setData","onCopy","body","appendChild","selectNodeContents","addRange","execCommand","Error","err","error","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","removeChild","rangeCount","active","activeElement","ranges","i","getRangeAt","tagName","toUpperCase","blur","type","forEach","focus"],"sourceRoot":""}